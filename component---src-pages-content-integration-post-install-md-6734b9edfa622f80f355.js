(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{k96a:function(e,t,a){"use strict";a.r(t),a.d(t,"_frontmatter",(function(){return l})),a.d(t,"default",(function(){return p}));a("91GP"),a("rGqo"),a("yt8O"),a("Btvt"),a("RW0V"),a("q1tI");var o=a("7ljp"),n=a("013z");a("qKvR");function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(e[o]=a[o])}return e}).apply(this,arguments)}var l={},i={_frontmatter:l},c=n.a;function p(e){var t=e.components,a=function(e,t){if(null==e)return{};var a,o,n={},r=Object.keys(e);for(o=0;o<r.length;o++)a=r[o],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,["components"]);return Object(o.b)(c,r({},i,a,{components:t,mdxType:"MDXLayout"}),Object(o.b)("p",null,"This page contains:"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},Object(o.b)("a",r({parentName:"li"},{href:"#loading-ppas-and-images-on-roks"}),"Loading ppas and images on Red Hat OpenShift on IBM Cloud")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("a",r({parentName:"li"},{href:"#loading-ppas-and-images-on-premise"}),"Loading ppas and images on-premise"))),Object(o.b)("h2",null,"Loading ppas and images on Red Hat OpenShift on IBM Cloud"),Object(o.b)("p",null,"After installing the Integration Cloud Pak, you might wish to load further ppas or images. These instructions describe how to load images on a Red Hat OpenShift on IBM Cloud, managed service, environment."),Object(o.b)("ol",null,Object(o.b)("li",{parentName:"ol"},"Download the ppas you want to load to your computer or boot node."),Object(o.b)("li",{parentName:"ol"},"We need to expose the docker registry of the OpenShift cluster to your node. To do so:")),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"Login to Openshift with the ",Object(o.b)("inlineCode",{parentName:"li"},"oc login")," command found on the OpenShift UI."),Object(o.b)("li",{parentName:"ul"},"Update the local /etc/hosts and add the line ",Object(o.b)("inlineCode",{parentName:"li"},"127.0.0.1 docker-registry.default.svc"),". You can edit this file by running this command from anywhere on the command line:",Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",r({parentName:"pre"},{className:"language-md"}),"sudo vi /etc/hosts\n"))),Object(o.b)("li",{parentName:"ul"},"Expose port 5000 on the boot node. You need to leave the window open or else the port-forwarding will stop. To achieve this run this command:",Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",r({parentName:"pre"},{className:"language-md"}),"kubectl -n default port-forward svc/docker-registry 5000:5000\n")))),Object(o.b)("ol",{start:3},Object(o.b)("li",{parentName:"ol"},"Sign into the docker registry. To login to the docker registry run:",Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",r({parentName:"pre"},{className:"language-md"}),"docker login -u $(oc whoami) -p $(oc whoami -t) docker-registry.default.svc:5000\n"))),Object(o.b)("li",{parentName:"ol"},"Navigate on your command line to the folder with the ppa you want to load."),Object(o.b)("li",{parentName:"ol"},"Load the ppa with:",Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",r({parentName:"pre"},{className:"language-md"}),"cloudctl catalog load-archive --archive &lt;file-name> --registry docker-registry.default.svc:5000/&lt;target-namespace>\n"))),Object(o.b)("li",{parentName:"ol"},"Repeat the above for all the other packages listed above"),Object(o.b)("li",{parentName:"ol"},"Log in to ICP console and sync the repositories."),Object(o.b)("li",{parentName:"ol"},"Go to Catalog and search for ppa you loaded."),Object(o.b)("li",{parentName:"ol"},"You can now install and configure the ppa.")),Object(o.b)("h2",null,"Loading ppas and images on-premise"),Object(o.b)("p",null,"These instructions describe how to load images on an on-prem deploymend of the Integration Cloud Pak."),Object(o.b)("ol",null,Object(o.b)("li",{parentName:"ol"},"Download the ppas you want to load to your computer or boot node."),Object(o.b)("li",{parentName:"ol"},"Login to Openshift with the ",Object(o.b)("inlineCode",{parentName:"li"},"oc login")," command found on the OpenShift UI."),Object(o.b)("li",{parentName:"ol"},"Run ",Object(o.b)("inlineCode",{parentName:"li"},"oc -n default get routes")," to get the registry address for this cluster. Take note of it."),Object(o.b)("li",{parentName:"ol"},"Sign into the docker registry. To login to the docker registry run:",Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",r({parentName:"pre"},{className:"language-md"}),"docker login -u $(oc whoami) -p $(oc whoami -t) &lt;docker-registry-address>\n"))),Object(o.b)("li",{parentName:"ol"},"Navigate on your command line to the folder with the ppa you want to load."),Object(o.b)("li",{parentName:"ol"},"Load the ppa with:",Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",r({parentName:"pre"},{className:"language-md"}),"cloudctl catalog load-archive --archive &lt;file-name> --registry &lt;docker-registry-address>/&lt;target-namespace>\n"))),Object(o.b)("li",{parentName:"ol"},"Repeat the above for all the other packages listed above"),Object(o.b)("li",{parentName:"ol"},"Log in to ICP console and sync the repositories."),Object(o.b)("li",{parentName:"ol"},"Go to Catalog and search for ppa you loaded."),Object(o.b)("li",{parentName:"ol"},"You can now install and configure the ppa.")))}p.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-content-integration-post-install-md-6734b9edfa622f80f355.js.map