{"version":3,"sources":["webpack:///./src/pages/_content/automation/install-ums.md"],"names":["_frontmatter","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","props","mdxType","parentName","isMDXComponent"],"mappings":"yeAMO,IAAMA,EAAe,GAOtBC,EAAc,CAClBD,gBAEIE,EAAYC,IACH,SAASC,EAAT,GAGZ,IAFDC,EAEC,EAFDA,WACGC,E,oIACF,mBACD,OAAO,YAACJ,EAAD,KAAeD,EAAiBK,EAAhC,CAAuCD,WAAYA,EAAYE,QAAQ,cAG5E,sBACE,kBAAIC,WAAW,QAEjB,6FACA,+BACA,kDACA,uBAAK,sBAAMA,WAAW,OAAU,IAA3B,yKAML,6DACA,sBACE,kBAAIA,WAAW,MACb,iBAAGA,WAAW,MAAd,aAAiC,mBAAGA,WAAW,KAAQ,CACnD,KAAQ,0CACP,0BAAYA,WAAW,KAAvB,oBAFL,sMAIF,kBAAIA,WAAW,MACb,iBAAGA,WAAW,MAAd,yBAGJ,uBAAK,sBAAMA,WAAW,OAAU,IAA3B,mCAEL,oCACA,sBACE,kBAAIA,WAAW,MACb,iBAAGA,WAAW,MAAd,mDAAuE,mBAAGA,WAAW,KAAQ,CACzF,KAAQ,gDACP,0BAAYA,WAAW,KAAvB,0BAFL,oMAE+Q,mBAAGA,WAAW,KAAQ,CACjS,KAAQ,qDACP,0BAAYA,WAAW,KAAvB,4BAEP,kBAAIA,WAAW,MACb,iBAAGA,WAAW,MAAd,wDAGJ,uBAAK,sBAAMA,WAAW,OAAU,IAA3B,yCAEL,wEACA,uBAAK,sBAAMA,WAAW,OAAU,IAA3B,0UAKL,6CACA,mCAAkB,0BAAYA,WAAW,KAAvB,8BAAlB,yDAAkJ,0BAAYA,WAAW,KAAvB,mBAAlJ,4GACA,4BAAW,0BAAYA,WAAW,KAAvB,kBAAX,qDAA2H,0BAAYA,WAAW,KAAvB,qBAA3H,WAAoM,0BAAYA,WAAW,KAAvB,yBAApM,yBAKJJ,EAAWK,gBAAiB","file":"component---src-pages-content-automation-install-ums-md-9c4a0ef6254d0534205e.js","sourcesContent":["import React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsx mdx */\n\nimport DefaultLayout from \"/Users/Shared/VBDData/programs/cloudpak8s/node_modules/gatsby-theme-carbon/src/templates/Default.js\";\nexport const _frontmatter = {};\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n  return <div {...props} />;\n};\n\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <ul>\n      <li parentName=\"ul\"></li>\n    </ul>\n    <h1>{`make sure there is a space after the - so that the TOC is generated`}</h1>\n    <p>{`{:toc}`}</p>\n    <h3>{`Prepare the UMS database`}</h3>\n    <pre><code parentName=\"pre\" {...{}}>{`su - db2inst1\ndb2 create database umsdb automatic storage yes using codeset UTF-8 territory US pagesize 32768;\ndb2 connect to umsdb\ndb2 list applications\nexit\n`}</code></pre>\n    <h3>{`Create the UMS and database secrets`}</h3>\n    <ul>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Copy this `}<a parentName=\"p\" {...{\n            \"href\": \"assets/automation/ums/ums-secret.yaml\"\n          }}><inlineCode parentName=\"a\">{`ums-secret.yaml`}</inlineCode></a>{` template file in your working directory and update it as needed. In particular, update the user and password for the DB2 database. You may want to also change UMS admin user name and password.`}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Create the secrets:`}</p>\n      </li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{}}>{`oc create -f ums-secret.yaml\n`}</code></pre>\n    <h3>{`Deploy UMS`}</h3>\n    <ul>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`To update the operator configuration, copy this `}<a parentName=\"p\" {...{\n            \"href\": \"assets/automation/ums/my_ibm_cp4a_cr_1.yaml\"\n          }}><inlineCode parentName=\"a\">{`my_ibm_cp4a_cr_1.yaml`}</inlineCode></a>{` template file in your working directory and update it as needed. You can highlight the UMS configuration sections that need your attention by doing a diff with the base template file found in `}<a parentName=\"p\" {...{\n            \"href\": \"assets/automation/operator/my_ibm_cp4a_cr_0.yaml\"\n          }}><inlineCode parentName=\"a\">{`my_ibm_cp4a_cr_0.yaml`}</inlineCode></a></p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Apply the updated custom resource definition file:`}</p>\n      </li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{}}>{`oc apply -f my_ibm_icp4a_cr_1.yaml\n`}</code></pre>\n    <p>{`You should see the following new pods deployed:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`NAME                                        READY     STATUS      RESTARTS   AGE\ncp4a-prod-ums-deployment-6f77649cb6-6rm7l   1/1       Running     0          5h\ncp4a-prod-ums-deployment-6f77649cb6-97mlq   1/1       Running     0          5h\ncp4a-prod-ums-ltpa-creation-job-g8sbj       0/1       Completed   0          2d\n`}</code></pre>\n    <h3>{`Test that UMS is up`}</h3>\n    <p>{`Connect to `}<inlineCode parentName=\"p\">{`https://&lt;ums-route>/ums`}</inlineCode>{` with the administrator login you have defined in the `}<inlineCode parentName=\"p\">{`ums-secret.yaml`}</inlineCode>{` file. You should also be able to login with the credentials for any user defined in the LDAP directory.`}</p>\n    <p>{`The `}<inlineCode parentName=\"p\">{`&lt;ums-route>`}</inlineCode>{` is the hostname that you have provided under the `}<inlineCode parentName=\"p\">{`ums_configuration`}</inlineCode>{` in the `}<inlineCode parentName=\"p\">{`my_ibm_cp4a_cr_1.yaml`}</inlineCode>{` configuration file.`}</p>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"sourceRoot":""}