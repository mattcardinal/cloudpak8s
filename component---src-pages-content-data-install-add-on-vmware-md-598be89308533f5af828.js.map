{"version":3,"sources":["webpack:///./src/pages/content/data/install-add-on-vmware.md"],"names":["_frontmatter","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","props","mdxType","parentName","isMDXComponent"],"mappings":"yeAMO,IAAMA,EAAe,GAOtBC,EAAc,CAClBD,gBAEIE,EAAYC,IACH,SAASC,EAAT,GAGZ,IAFDC,EAEC,EAFDA,WACGC,E,oIACF,mBACD,OAAO,YAACJ,EAAD,KAAeD,EAAiBK,EAAhC,CAAuCD,WAAYA,EAAYE,QAAQ,cAG5E,sFACA,sBACE,kBAAIC,WAAW,MAAf,kGAAuH,mBAAGA,WAAW,MAAS,CAC1I,KAAQ,uEAD2G,QAAvH,KAGA,kBAAIA,WAAW,MAAf,wIAEF,kBAAS,CACP,IAAO,8FACP,IAAO,gBAET,iBAAQ,CACN,MAAS,GAET,kBAAIA,WAAW,MAAf,2HAEF,6EACA,sBACE,kBAAIA,WAAW,MAAf,8GACJ,kBAAIA,WAAW,MAAf,2CACI,kBAAIA,WAAW,MAAf,8HAEF,iDACA,sBACE,kBAAIA,WAAW,MACb,iBAAGA,WAAW,MAAd,sBACA,iBAAGA,WAAW,MAAd,gBAAoC,mBAAGA,WAAW,KAAQ,CACtD,KAAQ,kFADwB,iFAApC,cAIF,kBAAIA,WAAW,MACb,iBAAGA,WAAW,MAAd,uCACA,iBAAGA,WAAW,MAAd,4DAEF,kBAAIA,WAAW,MACb,iBAAGA,WAAW,MAAd,wBACA,iBAAGA,WAAW,MAAd,sBAEF,kBAAIA,WAAW,MACb,iBAAGA,WAAW,MAAd,4CAGJ,uBAAK,sBAAMA,WAAW,OAAU,IAA3B,oPAKL,iBAAQ,CACN,MAAS,GAET,kBAAIA,WAAW,MACb,iBAAGA,WAAW,MAAd,+CACA,iBAAGA,WAAW,MAAd,wJAIJ,wDACA,sKACA,4CACA,qBAAG,kBAAIA,WAAW,KAAf,iEACH,sCACA,mFACA,uBAAK,sBAAMA,WAAW,OAAU,IAA3B,8PAIL,mCACA,iCACA,uBAAK,sBAAMA,WAAW,OAAU,IAA3B,gNAGL,iCACA,uBAAK,sBAAMA,WAAW,OAAU,IAA3B,iDAEL,uJAKJJ,EAAWK,gBAAiB","file":"component---src-pages-content-data-install-add-on-vmware-md-598be89308533f5af828.js","sourcesContent":["import React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/travis/build/vbudi000/cloudpak8s/node_modules/gatsby-theme-carbon/src/templates/Default.js\";\nexport const _frontmatter = {};\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n  return <div {...props} />;\n};\n\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h2>{`Set Up the OpenShift Client CLI Tools and Access the Cluster`}</h2>\n    <ol>\n      <li parentName=\"ol\">{`If you haven’t done so already, install the OpenShift client CLI tools using the directions at `}<a parentName=\"li\" {...{\n          \"href\": \"https://cloud.ibm.com/docs/openshift?topic=openshift-openshift-cli\"\n        }}>{`here`}</a>{`.`}</li>\n      <li parentName=\"ol\">{`Login to the OpenShift console.  In the upper right hand side of the page, click on your user name and select “Copy Login Command”.`}</li>\n    </ol>\n    <img {...{\n      \"src\": \"https://pages.github.ibm.com/CASE/cloudpak-onboard-residency/assets/img/cp4d/qijunlogin.jpg\",\n      \"alt\": \"LoginScreen\"\n    }}></img>\n    <ol {...{\n      \"start\": 3\n    }}>\n      <li parentName=\"ol\">{`Paste the command in a shell and a response will be returned with a list of projects and the current project selected.`}</li>\n    </ol>\n    <h2>{`Set Up the CP4D “deploy.sh” for Add-On Installation`}</h2>\n    <ol>\n      <li parentName=\"ol\">{`Retrieve the CP4D installer and only extract its contents using the “—extract-only” switch.  For example,\n`}<em parentName=\"li\">{`”./installer.x86_64.520 —extract-only”`}</em></li>\n      <li parentName=\"ol\">{`The “deploy.sh” script that will be used later to install an add-on will be located at “/ibm/InstallPackage/components/“.`}</li>\n    </ol>\n    <h2>{`Install helm and tiller`}</h2>\n    <ol>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Download helm tool`}</p>\n        <p parentName=\"li\">{`   $ curl -s `}<a parentName=\"p\" {...{\n            \"href\": \"https://storage.googleapis.com/kubernetes-helm/helm-v2.9.1-linux-amd64.tar.gz\"\n          }}>{`https://storage.googleapis.com/kubernetes-helm/helm-v2.9.1-linux-amd64.tar.gz`}</a>{` | tar xz`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Copy the helm too to /bin directory`}</p>\n        <p parentName=\"li\">{`   $ cp -f ./linux-amd64/helm /usr/local/bin/ /usr/bin/`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Check “helm” version`}</p>\n        <p parentName=\"li\">{`   $ helm version`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Configure “helm” with OpenShift server`}</p>\n      </li>\n    </ol>\n    <pre><code parentName=\"pre\" {...{}}>{`   $ oc whoami - find the logged in user (1)\n   $ oc whoami –t - To find password (2)\n   $ oc get routes –n default àFind the docker registry url (3)\n   $ docker login –u openshift –u &lt;password> https://&lt;url from the command 3>\n`}</code></pre>\n    <ol {...{\n      \"start\": 5\n    }}>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`List the deployed helm charts in the server`}</p>\n        <p parentName=\"li\">{`   $oc get pods –all-namespacs | grep tiller\n$ export TILLER_NAMESPACE=`}{`<`}{`namespace> —> Namespace of the tiller running in Server $ helm list`}</p>\n      </li>\n    </ol>\n    <h2>{`Get the Add-On to be Installed`}</h2>\n    <p>{`For this example, the “Watson Machine Learning” add-on tar will be used.  Download the add-on code and place it somewhere like “/ibm/modules”`}</p>\n    <h2>{`Install the Add-On`}</h2>\n    <p><em parentName=\"p\">{`”./deploy.sh -o -d /ibm/modules/watson_machine_learning.tar”`}</em></p>\n    <h2>{`Lesson Learn`}</h2>\n    <p>{`Running “helm list” failed after “helm version” succeeded.`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`[root@res-cdoan-29918d73-master-01 ~]# helm list\nError: Get http://localhost:8080/api/v1/namespaces/zen/configmaps?labelSelector=OWNER%!D(MISSING)TILLER: dial tcp 127.0.0.1:8080: connect: connection refused\n[root@res-cdoan-29918d73-master-01 ~]#\n`}</code></pre>\n    <p>{` Solution:`}</p>\n    <p>{` Step#1:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`  oc --namespace=zen create clusterrolebinding add-on-cluster-admin --clusterrole=cluster-admin --serviceaccount=zen:default\n  clusterrolebinding.rbac.authorization.k8s.io/add-on-cluster-admin created\n`}</code></pre>\n    <p>{` Step#2:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`  oc -n zen edit deployment  tiller-deploy\n`}</code></pre>\n    <p>{`{% include figure.html src=“/assets/img/cp4d/tiller-deploy-edit.png” alt=“Edit Tiller Deploy” caption=“Edit Tiller Deploy” %}`}</p>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"sourceRoot":""}