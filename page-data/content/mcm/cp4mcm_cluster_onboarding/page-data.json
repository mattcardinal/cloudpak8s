{"componentChunkName":"component---src-pages-content-mcm-cp-4-mcm-cluster-onboarding-md","path":"/content/mcm/cp4mcm_cluster_onboarding/","result":{"pageContext":{"frontmatter":{"title":"MCM - Importing a Kubernetes Cluster","weight":305},"relativePagePath":"/content/mcm/cp4mcm_cluster_onboarding.md","titleType":"page","MdxNode":{"id":"d3a5c01f-1e35-52d1-b529-7f00609941fa","children":[],"parent":"bfaec62d-92be-5c68-a2e8-0c8babfe1e66","internal":{"content":"---\ntitle: MCM - Importing a Kubernetes Cluster\nweight: 305\n---\n- \n{:toc}\n\n## Onboarding a Kubernetes Cluster\n\n**1.** To add a new cluster, go to the **MCM UI**.\n\n**2.** Using the menu in the top-left corner, navigate to **Automate Infrastructure** > **Clusters** \n\n![Graphic](assets/img/cp4mcm/cluster_onboarding_1.png)\n\n**3.** Select **Add Cluster**\n\n![Graphic](assets/img/cp4mcm/cluster_onboarding_2.png)\n\n**4.** Select **Import an existing cluster**\n\n![Graphic](assets/img/cp4mcm/cluster_onboarding_4.png)\n\n**5.** Enter the same name for `Cluster name` and `Namespace`. This restriction is a temporary limitation in the MCM UI.\n\n![Graphic](assets/img/cp4mcm/cluster_onboarding_5.png)\n\nClick \"Generate Command\" button to get the configuration command.\n\n![Graphic](assets/img/cp4mcm/mcm_klusterlet_import_command.png)\n\nGo to the managed cluster cli and run the command copied from the above. Your output should look something like this:\n\n```\n  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                 Dload  Upload   Total   Spent    Left  Speed\n100  6412    0  6412    0     0   2872      0 --:--:--  0:00:02 --:--:--  2872\ncustomresourcedefinition.apiextensions.k8s.io/endpoints.multicloud.ibm.com configured\nnamespace/multicluster-endpoint configured\nsecret/klusterlet-bootstrap configured\nsecret/multicluster-endpoint-operator-pull-secret configured\nserviceaccount/ibm-multicluster-endpoint-operator configured\nclusterrolebinding.rbac.authorization.k8s.io/ibm-multicluster-endpoint-operator configured\ndeployment.apps/ibm-multicluster-endpoint-operator configured\nendpoint.multicloud.ibm.com/endpoint created\n\n```\n\n*Note:* Run the command again if the error below occurs:\n\n```\ndeployment.apps/ibm-multicluster-endpoint-operator created\nerror: unable to recognize \"STDIN\": no matches for kind \"Endpoint\" in version \"multicloud.ibm.com/v1beta1\"\n```\n","type":"Mdx","contentDigest":"ba6a049e6acba5a477bd2dcb11d747b7","counter":129,"owner":"gatsby-plugin-mdx"},"frontmatter":{"title":"MCM - Importing a Kubernetes Cluster","weight":305},"exports":{},"rawBody":"---\ntitle: MCM - Importing a Kubernetes Cluster\nweight: 305\n---\n- \n{:toc}\n\n## Onboarding a Kubernetes Cluster\n\n**1.** To add a new cluster, go to the **MCM UI**.\n\n**2.** Using the menu in the top-left corner, navigate to **Automate Infrastructure** > **Clusters** \n\n![Graphic](assets/img/cp4mcm/cluster_onboarding_1.png)\n\n**3.** Select **Add Cluster**\n\n![Graphic](assets/img/cp4mcm/cluster_onboarding_2.png)\n\n**4.** Select **Import an existing cluster**\n\n![Graphic](assets/img/cp4mcm/cluster_onboarding_4.png)\n\n**5.** Enter the same name for `Cluster name` and `Namespace`. This restriction is a temporary limitation in the MCM UI.\n\n![Graphic](assets/img/cp4mcm/cluster_onboarding_5.png)\n\nClick \"Generate Command\" button to get the configuration command.\n\n![Graphic](assets/img/cp4mcm/mcm_klusterlet_import_command.png)\n\nGo to the managed cluster cli and run the command copied from the above. Your output should look something like this:\n\n```\n  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                 Dload  Upload   Total   Spent    Left  Speed\n100  6412    0  6412    0     0   2872      0 --:--:--  0:00:02 --:--:--  2872\ncustomresourcedefinition.apiextensions.k8s.io/endpoints.multicloud.ibm.com configured\nnamespace/multicluster-endpoint configured\nsecret/klusterlet-bootstrap configured\nsecret/multicluster-endpoint-operator-pull-secret configured\nserviceaccount/ibm-multicluster-endpoint-operator configured\nclusterrolebinding.rbac.authorization.k8s.io/ibm-multicluster-endpoint-operator configured\ndeployment.apps/ibm-multicluster-endpoint-operator configured\nendpoint.multicloud.ibm.com/endpoint created\n\n```\n\n*Note:* Run the command again if the error below occurs:\n\n```\ndeployment.apps/ibm-multicluster-endpoint-operator created\nerror: unable to recognize \"STDIN\": no matches for kind \"Endpoint\" in version \"multicloud.ibm.com/v1beta1\"\n```\n","fileAbsolutePath":"/Users/Shared/VBDData/programs/cloudpak8s/src/pages/content/mcm/cp4mcm_cluster_onboarding.md"}}}}