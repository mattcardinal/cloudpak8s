(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{drlO:function(e,t,a){"use strict";a.r(t),a.d(t,"_frontmatter",(function(){return r})),a.d(t,"default",(function(){return c}));a("91GP"),a("rGqo"),a("yt8O"),a("Btvt"),a("RW0V"),a("q1tI");var n=a("7ljp"),o=a("013z");a("qKvR");function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var r={},i={_frontmatter:r},s=o.a;function c(e){var t=e.components,a=function(e,t){if(null==e)return{};var a,n,o={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(o[a]=e[a]);return o}(e,["components"]);return Object(n.b)(s,l({},i,a,{components:t,mdxType:"MDXLayout"}),Object(n.b)("ul",null,Object(n.b)("li",{parentName:"ul"},Object(n.b)("a",l({parentName:"li"},{href:"#introduction"}),"Introduction")),Object(n.b)("li",{parentName:"ul"},Object(n.b)("a",l({parentName:"li"},{href:"#prepare-installation"}),"Prepare Installation")),Object(n.b)("li",{parentName:"ul"},Object(n.b)("a",l({parentName:"li"},{href:"#begin-installation"}),"Begin Installation")),Object(n.b)("li",{parentName:"ul"},Object(n.b)("a",l({parentName:"li"},{href:"#validate-installation"}),"Validate installation"))),Object(n.b)("h3",null,"Introduction"),Object(n.b)("p",null,"This page contains guidance on how to configure the Asset Repository release for both on-prem and ROKS."),Object(n.b)("h3",null,"Prepare Installation"),Object(n.b)("ol",null,Object(n.b)("li",{parentName:"ol"},"You have a few choices on where you can deploy the Asset Repository.  You can either deploy it to the ",Object(n.b)("inlineCode",{parentName:"li"},"integration")," namespace or wherever your platform navigator is installed, or in some cases (like ROKS) where a separate namespace will be created for the asset repository."),Object(n.b)("li",{parentName:"ol"},"The Asset Repository Requires the use of persistent storage, like gluster-fs and/or ceph.  Note that there are some parts of the Asset Repo that work better with block storage (like Cloudant).  These will be called out in the installation instructions below."),Object(n.b)("li",{parentName:"ol"},"To use the remote syncing capability into github, a publically facing github account is required.  More info on this can be found ",Object(n.b)("a",l({parentName:"li"},{href:"https://www.ibm.com/support/knowledgecenter/SSGT7J_19.4/asset_repo.html"}),"here"),"."),Object(n.b)("li",{parentName:"ol"},"Note that the default replica set size for the install for all of the asset repo components is 3.  For POC/Dev type systems, you can scale these back to one replica to save resources.  However note this is ",Object(n.b)("em",{parentName:"li"},"NOT")," recommended for production systems.")),Object(n.b)("h3",null,"Begin Installation"),Object(n.b)("ol",null,Object(n.b)("li",{parentName:"ol"},"Go to CP4I Platform Home. Click ",Object(n.b)("strong",{parentName:"li"},"Create Instance")," inside the ",Object(n.b)("strong",{parentName:"li"},"Asset Repo")," tile.    "),Object(n.b)("li",{parentName:"ol"},"A window will pop up with a description of the requirements for installing. Click ",Object(n.b)("strong",{parentName:"li"},"Continue")," to the helm chart deployment configuration."),Object(n.b)("li",{parentName:"ol"},"Click ",Object(n.b)("strong",{parentName:"li"},"Overview")," to view the chart information and pre-reqs."),Object(n.b)("li",{parentName:"ol"},"Click ",Object(n.b)("strong",{parentName:"li"},"Configure")),Object(n.b)("li",{parentName:"ol"},"Enter the Helm release name. In our example, ",Object(n.b)("strong",{parentName:"li"},"asset-repo")),Object(n.b)("li",{parentName:"ol"},"Enter Target Namespace.  As indicated above, this can be in the ",Object(n.b)("inlineCode",{parentName:"li"},"integration")," namespace or another namespace setup for you."),Object(n.b)("li",{parentName:"ol"},"Select a Cluster - ",Object(n.b)("strong",{parentName:"li"},"local-cluster"),"."),Object(n.b)("li",{parentName:"ol"},"Tick the license agreement box."),Object(n.b)("li",{parentName:"ol"},"Under Parameters -> Quick start",Object(n.b)("ol",{parentName:"li"},Object(n.b)("li",{parentName:"ol"},"Hostname of the ingress proxy to be configured - This will be your proxy node for you install. "))),Object(n.b)("li",{parentName:"ol"},"Click All Parameters twisty"),Object(n.b)("li",{parentName:"ol"},"Image Pull Secret -> Set to ",Object(n.b)("inlineCode",{parentName:"li"},"ibm-entitlement-key")," if using entitled registry or if offline use the ",Object(n.b)("inlineCode",{parentName:"li"},"deployer-dockercfg-XX")," secret in your ace namespace.  Use ",Object(n.b)("inlineCode",{parentName:"li"},"oc get secrets")," to get the exact value for your environment."),Object(n.b)("li",{parentName:"ol"},"Untick the ",Object(n.b)("inlineCode",{parentName:"li"},"Production usage")," checkbox."),Object(n.b)("li",{parentName:"ol"},"Double check that the ",Object(n.b)("inlineCode",{parentName:"li"},"Platform Navigator Namespace")," is set properly for your environment."),Object(n.b)("li",{parentName:"ol"},"For ",Object(n.b)("inlineCode",{parentName:"li"},"Cloudant metadata store storage class")," set that value to your block storageclass.  Non-block will work fine here too, but block will definitely be faster."),Object(n.b)("li",{parentName:"ol"},"As you go through the chart, you can scale down the replicas for ",Object(n.b)("inlineCode",{parentName:"li"},"Cloudant"),", ",Object(n.b)("inlineCode",{parentName:"li"},"Catalog API"),", ",Object(n.b)("inlineCode",{parentName:"li"},"DC main"),", ",Object(n.b)("inlineCode",{parentName:"li"},"Portal Catalog"),", ",Object(n.b)("inlineCode",{parentName:"li"},"Asset Storage"),", ",Object(n.b)("inlineCode",{parentName:"li"},"Portal Common")," and ",Object(n.b)("inlineCode",{parentName:"li"},"Catalog Remotes")," from 3 to 1."),Object(n.b)("li",{parentName:"ol"},"Be sure to also set the ",Object(n.b)("inlineCode",{parentName:"li"},"Asset storage Storage Class")," and ",Object(n.b)("inlineCode",{parentName:"li"},"Catalog remotes Storage Class")," to your non-block storage."),Object(n.b)("li",{parentName:"ol"},"Scroll down and then Click ",Object(n.b)("strong",{parentName:"li"},"Install")," to fire off the chart installation")),Object(n.b)("h3",null,"Validate installation"),Object(n.b)("ol",null,Object(n.b)("li",{parentName:"ol"},"Here is a representation of all pods running\n",Object(n.b)("img",l({parentName:"li"},{src:"16.asset-repo-pods.png",alt:null})))))}c.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-content-integration-deploy-asset-repo-md-487667ab8ce5879bb38e.js.map